# 重更日志
## 10.4和10.5（上午）
* 使用实体类对文件信息和线程信息进行包装，准备实现以后的多线程和多文件下载
* 使用SQLite进行线程信息的储存，实现断点续传
* 使用服务代替Activity进行下载，防止用户或系统致使下载异常中断
* 使用Intent练习Activity和Service，使用BoardcastReceiver回传信息给主活动更新UI
* 调整更新UI频率，优化界面显示效果
## 坑&收获
* 总是忘记申请权限，下次要实现弹出授权窗口的功能
* 一开始读一次输入流就更新一次UI，结果导致下载极度缓慢，后面改为500ms更新一次就好了
* 出现了许多莫名错误，学会了使用log和Debuger，这个真心很有用

## 10.4（下午）
* 初步完成List View
* 支持多任务下载
* 使用多线程下载
* 使用线程池管理线程
## 坑
* 多线程同时访问数据库导致数据库锁定
* 用户删除了下载文件，数据库没有及时判断
* 实现多线程多文件下载后UI不稳定，进度条到50%以后就开始出现显示异常，但是任然可以成功下载文件
* 使用线程池后部分机型（比如我的手机）文件下载出现问题
## 计划
* 认真学习Java泛型、集合、多线程
* 认真学习Android的listview和recycleview